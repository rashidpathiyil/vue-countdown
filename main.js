!function(){"use strict";var t={21:function(t,e){e.Z=(t,e)=>{const n=t.__vccOpts||t;for(const[t,o]of e)n[t]=o;return n}}},e={};function n(o){var s=e[o];if(void 0!==s)return s.exports;var a=e[o]={exports:{}};return t[o](a,a.exports,n),a.exports}!function(){var t=Vue;const e={class:"app"},o={class:"navbar navbar-light navbar-expand-md"},s={class:"container"},a={class:"navbar-brand",href:"./"},d=(0,t.createElementVNode)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbar-collapse","aria-controls":"navbar-collapse","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,t.createElementVNode)("span",{class:"navbar-toggler-icon"})],-1),i=(0,t.createElementVNode)("div",{id:"navbar-collapse",class:"collapse navbar-collapse justify-content-end",role:"navigation"},[(0,t.createElementVNode)("nav",{class:"nav navbar-nav"},[(0,t.createElementVNode)("a",{class:"nav-link",href:"https://github.com/fengyuanchen/vue-countdown",title:"View the GitHub project"}," GitHub "),(0,t.createElementVNode)("a",{class:"nav-link",href:"https://fengyuanchen.github.io/",title:"Explore more projects"}," Explore "),(0,t.createElementVNode)("a",{class:"nav-link",href:"https://chenfengyuan.com/",title:"About the author"}," About ")])],-1),c={class:"bg-primary text-white py-5"},l={class:"container"},r={class:"row"},u={class:"col-md"},m={class:"h6"},h={class:"lead"},p={class:"col-md"},v={ref:"carbonads",class:"carbonads"},b={class:"container"},g={class:"markdown-body"},f=(0,t.createStaticVNode)('<footer><div class="container"><p class="heart"></p><nav class="nav flex-wrap justify-content-center mb-3"><a class="nav-link" href="https://github.com/fengyuanchen/vue-countdown"> GitHub </a><a class="nav-link" href="https://github.com/fengyuanchen/vue-countdown/blob/main/CHANGELOG.md"> Changelog </a><a class="nav-link" href="https://github.com/fengyuanchen/vue-countdown/blob/main/LICENSE"> License </a><a class="nav-link" href="https://chenfengyuan.com/"> About </a></nav></div></footer>',1);var y=JSON.parse('{"name":"@chenfengyuan/vue-countdown","version":"2.1.0","description":"Countdown component for Vue 3.","main":"dist/vue-countdown.js","module":"dist/vue-countdown.esm.js","types":"dist/vue-countdown.d.ts","files":["dist"],"scripts":{"build":"rollup -c --environment BUILD:production","build:docs":"webpack --env production","build:types":"move-file dist/index.d.ts dist/vue-countdown.d.ts","changelog":"conventional-changelog -p angular -i CHANGELOG.md -s -r 0","clean":"del-cli dist","lint":"npm run lint:js && npm run lint:css","lint:css":"stylelint **/*.{css,scss,vue} --fix","lint:js":"eslint . --ext .js,.ts,.vue --fix","prepare":"husky install","release":"npm run clean && npm run lint && npm run build && npm run build:types && npm run build:docs && npm test && npm run changelog","serve":"webpack serve --hot --open","start":"npm run serve","test":"jest","test:coverage":"cat coverage/lcov.info | codecov"},"repository":{"type":"git","url":"https://github.com/fengyuanchen/vue-countdown.git"},"keywords":["countdown","vue","vue3","vue-component","front-end","web"],"author":"Chen Fengyuan (https://chenfengyuan.com/)","license":"MIT","bugs":"https://github.com/fengyuanchen/vue-countdown/issues","homepage":"https://fengyuanchen.github.io/vue-countdown","devDependencies":{"@babel/core":"^7.18.10","@babel/preset-env":"^7.18.10","@commitlint/cli":"^17.0.3","@commitlint/config-conventional":"^17.0.3","@types/jest":"^28.1.6","@typescript-eslint/eslint-plugin":"^5.33.0","@typescript-eslint/parser":"^5.33.0","@vue/compiler-sfc":"^3.2.37","@vue/test-utils":"^2.0.2","@vue/vue3-jest":"^28.0.1","babel-jest":"^28.1.3","babel-loader":"^8.2.5","change-case":"^4.1.2","codecov":"^3.8.3","conventional-changelog-cli":"^2.2.2","create-banner":"^2.0.0","css-loader":"^6.7.1","del-cli":"^5.0.0","eslint":"^8.21.0","eslint-config-airbnb-typescript":"^17.0.0","eslint-plugin-import":"^2.26.0","eslint-plugin-vue":"^9.3.0","html-webpack-plugin":"^5.5.0","husky":"^8.0.1","jest":"^28.1.3","jest-environment-jsdom":"^28.1.3","lint-staged":"^13.0.3","markdown-to-vue-loader":"^3.1.3","mini-css-extract-plugin":"^2.6.1","move-file-cli":"^3.0.0","postcss":"^8.4.16","rollup":"^2.77.3","rollup-plugin-postcss":"^4.0.2","rollup-plugin-terser":"^7.0.2","rollup-plugin-typescript2":"^0.32.1","rollup-plugin-vue":"^6.0.0","sass":"^1.54.4","sass-loader":"^13.0.2","style-loader":"^3.3.1","stylelint":"^14.10.0","stylelint-config-recommended-scss":"^7.0.0","stylelint-config-recommended-vue":"^1.4.0","stylelint-order":"^5.0.0","ts-jest":"^28.0.7","ts-loader":"^9.3.1","tslib":"^2.4.0","typescript":"^4.7.4","vue":"^3.2.37","vue-loader":"^17.0.0","webpack":"^5.74.0","webpack-cli":"^4.10.0","webpack-dev-server":"^4.10.0"},"peerDependencies":{"vue":"^3.0.0"},"publishConfig":{"access":"public"}}');const w={class:"component-readme"},E=(0,t.createElementVNode)("h1",null,"Countdown",-1),N=(0,t.createElementVNode)("blockquote",null,[(0,t.createElementVNode)("p",null,"Countdown with optional controls.")],-1),V=(0,t.createElementVNode)("h2",null,"Basic usage",-1),M=(0,t.createElementVNode)("pre",null,[(0,t.createElementVNode)("code",{class:"language-html"},'<template>\n  <vue-countdown :time="2 * 24 * 60 * 60 * 1000" v-slot="{ days, hours, minutes, seconds }">\n    Time Remaining：{{ days }} days, {{ hours }} hours, {{ minutes }} minutes, {{ seconds }} seconds.\n  </vue-countdown>\n</template>\n')],-1),C=(0,t.createElementVNode)("h2",null,"Custom interval",-1),k=(0,t.createElementVNode)("pre",null,[(0,t.createElementVNode)("code",{class:"language-html"},'<template>\n  <vue-countdown :time="time" :interval="100" v-slot="{ days, hours, minutes, seconds, milliseconds }">\n    New Year Countdown：{{ days }} days, {{ hours }} hours, {{ minutes }} minutes, {{ seconds }}.{{ Math.floor(milliseconds / 100) }} seconds.\n  </vue-countdown>\n</template>\n\n<script>\nexport default {\n  data() {\n    const now = new Date();\n    const newYear = new Date(now.getFullYear() + 1, 0, 1);\n\n    return {\n      time: newYear - now,\n    };\n  },\n};\n<\/script>\n')],-1),S=(0,t.createElementVNode)("h2",null,"Transform slot props",-1),j=(0,t.createElementVNode)("pre",null,[(0,t.createElementVNode)("code",{class:"language-html"},'<template>\n  <vue-countdown :time="2 * 24 * 60 * 60 * 1000" :transform="transformSlotProps" v-slot="{ days, hours, minutes, seconds }">\n    Time Remaining：{{ days }} days, {{ hours }} hours, {{ minutes }} minutes, {{ seconds }} seconds.\n  </vue-countdown>\n</template>\n\n<script>\nexport default {\n  methods: {\n    transformSlotProps(props) {\n      const formattedProps = {};\n\n      Object.entries(props).forEach(([key, value]) => {\n        formattedProps[key] = value < 10 ? `0${value}` : String(value);\n      });\n\n      return formattedProps;\n    },\n  },\n};\n<\/script>\n')],-1),q=(0,t.createElementVNode)("h2",null,"Countdown on demand",-1),D=(0,t.createStaticVNode)('<pre><code class="language-html">&lt;template&gt;\n  &lt;button type=&quot;button&quot; class=&quot;btn btn-primary&quot; :disabled=&quot;counting&quot; @click=&quot;startCountdown&quot;&gt;\n    &lt;vue-countdown v-if=&quot;counting&quot; :time=&quot;60000&quot; @end=&quot;onCountdownEnd&quot; v-slot=&quot;{ totalSeconds }&quot;&gt;Fetch again {{ totalSeconds }} seconds later&lt;/vue-countdown&gt;\n    &lt;span v-else&gt;Fetch Verification Code&lt;/span&gt;\n  &lt;/button&gt;\n&lt;/template&gt;\n\n&lt;script&gt;\nexport default {\n  data() {\n    return {\n      counting: false,\n    };\n  },\n  methods: {\n    startCountdown: function () {\n      this.counting = true;\n    },\n    onCountdownEnd: function () {\n      this.counting = false;\n    },\n  },\n};\n&lt;/script&gt;\n</code></pre><h2>Props</h2><div class="table-responsive"><table class="table"><thead><tr><th>Name</th><th>Type</th><th>Default</th><th>Options</th><th>Description</th></tr></thead><tbody><tr><td>auto-start</td><td><code>boolean</code></td><td><code>true</code></td><td>-</td><td>Indicate if starts the countdown automatically when initialized or not.</td></tr><tr><td>emit-events</td><td><code>boolean</code></td><td><code>true</code></td><td>-</td><td>Indicate if emits the countdown events or not.</td></tr><tr><td>interval</td><td><code>number</code></td><td><code>1000</code></td><td>-</td><td>The interval time (in milliseconds) of the countdown progress. The value should not be less than <code>0</code>.</td></tr><tr><td>now</td><td><code>Function</code></td><td><code>() =&gt; Date.now()</code></td><td>-</td><td>Generates the current time (in milliseconds) in a specific time zone.</td></tr><tr><td>tag</td><td><code>string</code></td><td><code>&quot;span&quot;</code></td><td>-</td><td>The tag name of the component’s root element.</td></tr><tr><td>time</td><td><code>number</code></td><td><code>0</code></td><td>-</td><td>The time (in milliseconds) to count down from.</td></tr><tr><td>transform</td><td><code>Function</code></td><td><code>(slotProps) =&gt; slotProps</code></td><td>-</td><td>Transforms the output slot props before render. The <code>slotProps</code> object contains the following properties: <code>days</code>, <code>hours</code>, <code>minutes</code>, <code>seconds</code>, <code>milliseconds</code>, <code>totalDays</code>, <code>totalHours</code>, <code>totalMinutes</code>, <code>totalSeconds</code>, and <code>totalMilliseconds</code>.</td></tr></tbody></table></div><h2>Methods</h2><div class="table-responsive"><table class="table"><thead><tr><th>Name</th><th>Parameters</th><th>Description</th></tr></thead><tbody><tr><td>start</td><td><code>()</code></td><td>Starts the countdown. Run automatically when the <code>auto-start</code> prop is set to <code>true</code>.</td></tr><tr><td>abort</td><td><code>()</code></td><td>Aborts the countdown immediately.</td></tr><tr><td>end</td><td><code>()</code></td><td>Ends the countdown manually.</td></tr><tr><td>restart</td><td><code>()</code></td><td>Restarts the countdown.</td></tr></tbody></table></div><h2>Events</h2><div class="table-responsive"><table class="table"><thead><tr><th>Name</th><th>Parameters</th><th>Description</th></tr></thead><tbody><tr><td>start</td><td><code>()</code></td><td>Fires immediately when the countdown starts.</td></tr><tr><td>progress</td><td><code>(data)</code></td><td>Fires continually when the countdown is in progress. The <code>data</code> object contains the following properties: <code>days</code>, <code>hours</code>, <code>minutes</code>, <code>seconds</code>, <code>milliseconds</code>, <code>totalDays</code>, <code>totalHours</code>, <code>totalMinutes</code>, <code>totalSeconds</code>, and <code>totalMilliseconds</code>.</td></tr><tr><td>abort</td><td><code>()</code></td><td>Fired when the countdown has aborted.</td></tr><tr><td>end</td><td><code>()</code></td><td>Fired when the countdown has ended.</td></tr></tbody></table></div><blockquote><p>Native events that bubble up from child elements are also available.</p></blockquote><p><strong>Note:</strong> You can set the <code>emit-events</code> property to <code>false</code> to disable these events for better performance.</p>',9);var x,T={components:{"component-readme-0":(x={},"function"==typeof x&&(x=x()),"object"!=typeof x&&(x={}),Object.assign(x,{name:"component-readme-0",template:'<div class="component-readme-0">\n  <vue-countdown :time="2 * 24 * 60 * 60 * 1000" v-slot="{ days, hours, minutes, seconds }">\n    Time Remaining：{{ days }} days, {{ hours }} hours, {{ minutes }} minutes, {{ seconds }} seconds.\n  </vue-countdown>\n</div>'})),"component-readme-1":function(){var t={data(){const t=new Date;return{time:new Date(t.getFullYear()+1,0,1)-t}}};return"function"==typeof t&&(t=t()),"object"!=typeof t&&(t={}),Object.assign(t,{name:"component-readme-1",template:'<div class="component-readme-1">\n  <vue-countdown :time="time" :interval="100" v-slot="{ days, hours, minutes, seconds, milliseconds }">\n    New Year Countdown：{{ days }} days, {{ hours }} hours, {{ minutes }} minutes, {{ seconds }}.{{ Math.floor(milliseconds / 100) }} seconds.\n  </vue-countdown>\n</div>'})}(),"component-readme-2":function(){var t={methods:{transformSlotProps(t){const e={};return Object.entries(t).forEach((t=>{let[n,o]=t;e[n]=o<10?"0".concat(o):String(o)})),e}}};return"function"==typeof t&&(t=t()),"object"!=typeof t&&(t={}),Object.assign(t,{name:"component-readme-2",template:'<div class="component-readme-2">\n  <vue-countdown :time="2 * 24 * 60 * 60 * 1000" :transform="transformSlotProps" v-slot="{ days, hours, minutes, seconds }">\n    Time Remaining：{{ days }} days, {{ hours }} hours, {{ minutes }} minutes, {{ seconds }} seconds.\n  </vue-countdown>\n</div>'})}(),"component-readme-3":function(){var t={data:()=>({counting:!1}),methods:{startCountdown:function(){this.counting=!0},onCountdownEnd:function(){this.counting=!1}}};return"function"==typeof t&&(t=t()),"object"!=typeof t&&(t={}),Object.assign(t,{name:"component-readme-3",template:'<div class="component-readme-3">\n  <button type="button" class="btn btn-primary" :disabled="counting" @click="startCountdown">\n    <vue-countdown v-if="counting" :time="60000" @end="onCountdownEnd" v-slot="{ totalSeconds }">Fetch again {{ totalSeconds }} seconds later</vue-countdown>\n    <span v-else="">Fetch Verification Code</span>\n  </button>\n</div>'})}()}},F=n(21),P=(0,F.Z)(T,[["render",function(e,n,o,s,a,d){const i=(0,t.resolveComponent)("component-readme-0"),c=(0,t.resolveComponent)("demo-block"),l=(0,t.resolveComponent)("component-readme-1"),r=(0,t.resolveComponent)("component-readme-2"),u=(0,t.resolveComponent)("component-readme-3");return(0,t.openBlock)(),(0,t.createElementBlock)("div",w,[E,N,V,(0,t.createVNode)(c,null,{default:(0,t.withCtx)((()=>[(0,t.createVNode)(i)])),_:1}),M,C,(0,t.createVNode)(c,null,{default:(0,t.withCtx)((()=>[(0,t.createVNode)(l)])),_:1}),k,S,(0,t.createVNode)(c,null,{default:(0,t.withCtx)((()=>[(0,t.createVNode)(r)])),_:1}),j,q,(0,t.createVNode)(c,null,{default:(0,t.withCtx)((()=>[(0,t.createVNode)(u)])),_:1}),D])}]]);y.name=y.name.split("/").pop()||"";var H=(0,t.defineComponent)({components:{Readme:P},data:()=>y,mounted(){const t=document.createElement("script");t.async=!0,t.id="_carbonads_js",t.src="//cdn.carbonads.com/carbon.js?serve=CKYI55Q7&placement=fengyuanchengithubio",this.$refs.carbonads.appendChild(t)}}),B=(0,F.Z)(H,[["render",function(n,y,w,E,N,V){const M=(0,t.resolveComponent)("Readme");return(0,t.openBlock)(),(0,t.createElementBlock)("div",e,[(0,t.createElementVNode)("header",o,[(0,t.createElementVNode)("nav",s,[(0,t.createElementVNode)("a",a,(0,t.toDisplayString)(n.name),1),d,i])]),(0,t.createElementVNode)("main",null,[(0,t.createElementVNode)("div",c,[(0,t.createElementVNode)("div",l,[(0,t.createElementVNode)("div",r,[(0,t.createElementVNode)("div",u,[(0,t.createElementVNode)("h1",null,[(0,t.createTextVNode)((0,t.toDisplayString)(n.name)+" ",1),(0,t.createElementVNode)("small",m," v"+(0,t.toDisplayString)(n.version),1)]),(0,t.createElementVNode)("p",h,(0,t.toDisplayString)(n.description),1)]),(0,t.createElementVNode)("div",p,[(0,t.createElementVNode)("div",v,null,512)])])])]),(0,t.createElementVNode)("div",b,[(0,t.createElementVNode)("div",g,[(0,t.createVNode)(M)])])]),f])}]]);const O={class:"demo-block"};var A=(0,t.defineComponent)({name:"DemoBlock"}),I=(0,F.Z)(A,[["render",function(e,n,o,s,a,d){return(0,t.openBlock)(),(0,t.createElementBlock)("div",O,[(0,t.renderSlot)(e.$slots,"default")])}]]);const $=1e3,G=6e4,R=36e5,Y=864e5,_="abort",L="progress",Z="start",z="visibilitychange";var U=(0,t.defineComponent)({name:"VueCountdown",props:{autoStart:{type:Boolean,default:!0},emitEvents:{type:Boolean,default:!0},interval:{type:Number,default:1e3,validator:t=>t>=0},now:{type:Function,default:()=>Date.now()},tag:{type:String,default:"span"},time:{type:Number,default:0,validator:t=>t>=0},transform:{type:Function,default:t=>t}},emits:[_,"end",L,Z],data:()=>({counting:!1,endTime:0,totalMilliseconds:0,requestId:0}),computed:{days(){return Math.floor(this.totalMilliseconds/Y)},hours(){return Math.floor(this.totalMilliseconds%Y/R)},minutes(){return Math.floor(this.totalMilliseconds%R/G)},seconds(){return Math.floor(this.totalMilliseconds%G/$)},milliseconds(){return Math.floor(this.totalMilliseconds%$)},totalDays(){return this.days},totalHours(){return Math.floor(this.totalMilliseconds/R)},totalMinutes(){return Math.floor(this.totalMilliseconds/G)},totalSeconds(){return Math.floor(this.totalMilliseconds/$)}},watch:{$props:{deep:!0,immediate:!0,handler(){this.totalMilliseconds=this.time,this.endTime=this.now()+this.time,this.autoStart&&this.start()}}},mounted(){document.addEventListener(z,this.handleVisibilityChange)},beforeUnmount(){document.removeEventListener(z,this.handleVisibilityChange),this.pause()},methods:{start(){this.counting||(this.counting=!0,this.emitEvents&&this.$emit(Z),"visible"===document.visibilityState&&this.continue())},continue(){if(!this.counting)return;const t=Math.min(this.totalMilliseconds,this.interval);if(t>0){let e,n;const o=s=>{e||(e=s),n||(n=s);const a=s-e;a>=t||a+(s-n)/2>=t?this.progress():this.requestId=requestAnimationFrame(o),n=s};this.requestId=requestAnimationFrame(o)}else this.end()},pause(){cancelAnimationFrame(this.requestId)},progress(){this.counting&&(this.totalMilliseconds-=this.interval,this.emitEvents&&this.totalMilliseconds>0&&this.$emit(L,{days:this.days,hours:this.hours,minutes:this.minutes,seconds:this.seconds,milliseconds:this.milliseconds,totalDays:this.totalDays,totalHours:this.totalHours,totalMinutes:this.totalMinutes,totalSeconds:this.totalSeconds,totalMilliseconds:this.totalMilliseconds}),this.continue())},abort(){this.counting&&(this.pause(),this.counting=!1,this.emitEvents&&this.$emit(_))},end(){this.counting&&(this.pause(),this.totalMilliseconds=0,this.counting=!1,this.emitEvents&&this.$emit("end"))},update(){this.counting&&(this.totalMilliseconds=Math.max(0,this.endTime-this.now()))},restart(){this.pause(),this.totalMilliseconds=this.time,this.endTime=this.now()+this.time,this.counting=!1,this.start()},handleVisibilityChange(){switch(document.visibilityState){case"visible":this.update(),this.continue();break;case"hidden":this.pause()}}},render(){return(0,t.h)(this.tag,this.$slots.default?[this.$slots.default(this.transform({days:this.days,hours:this.hours,minutes:this.minutes,seconds:this.seconds,milliseconds:this.milliseconds,totalDays:this.totalDays,totalHours:this.totalHours,totalMinutes:this.totalMinutes,totalSeconds:this.totalSeconds,totalMilliseconds:this.totalMilliseconds}))]:void 0)}});const J=(0,t.createApp)(B);J.component(U.name,U),J.component(I.name,I),J.mount("#app")}()}();